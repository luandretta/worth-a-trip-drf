(this.webpackJsonpmoments=this.webpackJsonpmoments||[]).push([[0],{12:function(e,a,t){e.exports={NavBar:"NavBar_NavBar__1amC6",NavLink:"NavBar_NavLink__34ons",Active:"NavBar_Active__3PBZb"}},13:function(e,a,t){e.exports={Row:"SignInUpForm_Row__3PbVy",Input:"SignInUpForm_Input__3xaLZ",Header:"SignInUpForm_Header__3joQJ",Link:"SignInUpForm_Link__1BeMm",Container:"SignInUpForm_Container__2cuBp",SignInCol:"SignInUpForm_SignInCol__3ImPK",SignUpCol:"SignInUpForm_SignUpCol__28o4y"}},17:function(e,a,t){e.exports={App:"App_App__16ZpL",Main:"App_Main__HQkvd",Content:"App_Content__ZaMNr",FillerImage:"App_FillerImage__2ob-g",Image:"App_Image__3UPXw"}},24:function(e,a,t){e.exports={Button:"Button_Button__27i9m",Wide:"Button_Wide__2ScDr",Blue:"Button_Blue__10GcT",BlueOutline:"Button_BlueOutline__YqCWO",Bright:"Button_Bright__1MBHR",Black:"Button_Black__2dCp7",BlackOutline:"Button_BlackOutline__I-kZ-"}},58:function(e,a,t){e.exports={Avatar:"Avatar_Avatar__196lW"}},69:function(e,a,t){},99:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(30),s=t.n(r),o=(t(69),t(17)),i=t.n(o),u=t(11),l=t(18),j=t(37),d=t(27),p=t(64),b=t.p+"static/media/logo.2847d3e4.png",m=t(12),h=t.n(m),O=t(9),x=t(19),v=t(8),f=t.n(v);f.a.defaults.baseURL="/api",f.a.defaults.headers.post["Content-Type"]="multipart/form-data",f.a.defaults.withCredentials=!0;var g=f.a.create(),_=f.a.create(),N=t(6),w=t(1),C=Object(n.createContext)(),k=Object(n.createContext)(),B=function(){return Object(n.useContext)(k)},I=function(e){var a=e.children,t=Object(n.useState)(null),c=Object(x.a)(t,2),r=c[0],s=c[1],o=Object(N.f)(),i=function(){var e=Object(l.a)(Object(u.a)().mark((function e(){var a,t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("dj-rest-auth/user/");case 3:a=e.sent,t=a.data,s(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i()}),[]),Object(n.useMemo)((function(){g.interceptors.request.use(function(){var e=Object(l.a)(Object(u.a)().mark((function e(a){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("/dj-rest-auth/token/refresh/");case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),s((function(e){return e&&o.push("/signin"),null})),e.abrupt("return",a);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(a){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),_.interceptors.response.use((function(e){return e}),function(){var e=Object(l.a)(Object(u.a)().mark((function e(a){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==(null===(t=a.response)||void 0===t?void 0:t.status)){e.next=10;break}return e.prev=1,e.next=4,f.a.post("/dj-rest-auth/token/refresh/");case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),s((function(e){return e&&o.push("/signin"),null}));case 9:return e.abrupt("return",f()(a.config));case 10:return e.abrupt("return",Promise.reject(a));case 11:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(a){return e.apply(this,arguments)}}())}),[o]),Object(w.jsx)(C.Provider,{value:r,children:Object(w.jsx)(k.Provider,{value:s,children:a})})},S=t(58),y=t.n(S),L=function(e){var a=e.src,t=e.height,n=void 0===t?45:t,c=e.text;return Object(w.jsxs)("span",{children:[Object(w.jsx)("img",{className:y.a.Avatar,src:a,height:n,width:n,alt:"avatar"}),c]})},A=function(){var e=Object(n.useState)(!1),a=Object(x.a)(e,2),t=a[0],c=a[1],r=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=function(e){r.current&&!r.current.contains(e.target)&&c(!1)};return document.addEventListener("mouseup",e),function(){document.removeEventListener("mouseup",e)}}),[r]),{expanded:t,setExpanded:c,ref:r}},F=function(){var e=Object(n.useContext)(C),a=B(),t=A(),c=t.expanded,r=t.setExpanded,s=t.ref,o=function(){var e=Object(l.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("dj-rest-auth/logout/");case 3:a(null),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),i=Object(w.jsxs)(O.c,{className:h.a.NavLink,activeClassName:h.a.Active,to:"/posts/create",children:[Object(w.jsx)("i",{className:"far fa-plus-square"}),"Add post"]}),m=Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(O.c,{className:h.a.NavLink,activeClassName:h.a.Active,to:"/feed",children:[Object(w.jsx)("i",{className:"fas fa-stream"}),"Feed"]}),Object(w.jsxs)(O.c,{className:h.a.NavLink,activeClassName:h.a.Active,to:"/whished",children:[Object(w.jsx)("i",{className:"fas fa-map-location-dot"}),"Desired"]}),Object(w.jsxs)(O.c,{className:h.a.NavLink,to:"/",onClick:o,children:[Object(w.jsx)("i",{className:"fas fa-sign-out-alt"}),"Sign out"]}),Object(w.jsx)(O.c,{className:h.a.NavLink,to:"/profiles/".concat(null===e||void 0===e?void 0:e.profile_id),children:Object(w.jsx)(L,{src:null===e||void 0===e?void 0:e.profile_pic,text:"Profile",height:40})})]}),x=Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(O.c,{className:h.a.NavLink,activeClassName:h.a.Active,to:"/signin",children:[Object(w.jsx)("i",{className:"fas fa-sign-in-alt"}),"Sign in"]}),Object(w.jsxs)(O.c,{to:"/signup",className:h.a.NavLink,activeClassName:h.a.Active,children:[Object(w.jsx)("i",{className:"fas fa-user-plus"}),"Sign up"]})]});return Object(w.jsx)(j.a,{expanded:c,className:h.a.NavBar,expand:"md",fixed:"top",children:Object(w.jsxs)(d.a,{children:[Object(w.jsx)(O.c,{to:"/",children:Object(w.jsxs)(j.a.Brand,{children:[Object(w.jsx)("img",{src:b,alt:"logo",height:"60"})," Worth a Trip"]})}),e&&i,Object(w.jsx)(j.a.Toggle,{ref:s,onClick:function(){return r(!c)},"aria-controls":"basic-navbar-nav"}),Object(w.jsx)(j.a.Collapse,{id:"basic-navbar-nav",children:Object(w.jsxs)(p.a,{className:"ml-auto text-left",children:[Object(w.jsxs)(O.c,{exact:!0,className:h.a.NavLink,activeClassName:h.a.Active,to:"/",children:[Object(w.jsx)("i",{className:"fas fa-home"}),"Home"]}),e?m:x]})})]})})},P=t(33),U=t(35),W=t(13),H=t.n(W),M=t(24),E=t.n(M),G=t(61),R=t(36),T=t(25),D=t(41),q=t(62),Z=t(63),J=function(){var e,a,t,c,r=Object(n.useState)({username:"",password1:"",password2:""}),s=Object(x.a)(r,2),o=s[0],j=s[1],p=o.username,b=o.password1,m=o.password2,h=Object(n.useState)({}),v=Object(x.a)(h,2),g=v[0],_=v[1],C=Object(N.f)(),k=function(e){j(Object(U.a)(Object(U.a)({},o),{},Object(P.a)({},e.target.name,e.target.value.trim())))},B=function(){var e=Object(l.a)(Object(u.a)().mark((function e(a){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,f.a.post("/dj-rest-auth/registration/",o);case 4:C.push("/signin"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),_(null===(t=e.t0.response)||void 0===t?void 0:t.data);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a){return e.apply(this,arguments)}}();return Object(w.jsxs)(G.a,{className:H.a.Row,children:[Object(w.jsxs)(R.a,{className:"my-auto py-2 p-md-2",md:6,children:[Object(w.jsxs)(d.a,{className:"".concat(i.a.Content," p-4 "),children:[Object(w.jsx)("h1",{className:H.a.Header,children:"sign up"}),Object(w.jsxs)(T.a,{onSubmit:B,children:[Object(w.jsxs)(T.a.Group,{controlId:"username",children:[Object(w.jsx)(T.a.Label,{className:"d-none",children:"Username"}),Object(w.jsx)(T.a.Control,{className:H.a.Input,type:"text",placeholder:"username",name:"username",value:p,onChange:k})]}),null===(e=g.username)||void 0===e?void 0:e.map((function(e,a){return Object(w.jsx)(D.a,{variant:"warning",children:e},a)})),Object(w.jsxs)(T.a.Group,{controlId:"password1",children:[Object(w.jsx)(T.a.Label,{className:"d-none",children:"Password"}),Object(w.jsx)(T.a.Control,{className:H.a.Input,type:"password",placeholder:"Password",name:"password1",value:b,onChange:k})]}),null===(a=g.password1)||void 0===a?void 0:a.map((function(e,a){return Object(w.jsx)(D.a,{variant:"warning",children:e},a)})),Object(w.jsxs)(T.a.Group,{controlId:"password2",children:[Object(w.jsx)(T.a.Label,{className:"d-none",children:"Confirm password"}),Object(w.jsx)(T.a.Control,{className:H.a.Input,type:"password",placeholder:"Confirm password",name:"password2",value:m,onChange:k})]}),null===(t=g.password2)||void 0===t?void 0:t.map((function(e,a){return Object(w.jsx)(D.a,{variant:"warning",children:e},a)})),Object(w.jsx)(T.a.Group,{controlId:"formBasicCheckbox",children:Object(w.jsx)(T.a.Check,{type:"checkbox",label:"By signing up, you agree to our Terms, Privacy Policy, and Cookie Use."})}),Object(w.jsx)(q.a,{className:"".concat(E.a.Button," ").concat(E.a.Wide," ").concat(E.a.Bright),type:"submit",children:"Sign up"}),null===(c=g.non_field_errors)||void 0===c?void 0:c.map((function(e,a){return Object(w.jsx)(D.a,{variant:"warning",className:"mt-3",children:e},a)}))]})]}),Object(w.jsx)(d.a,{className:"mt-3 ".concat(i.a.Content),children:Object(w.jsxs)(O.b,{className:H.a.Link,to:"/signin",children:["Already have an account? ",Object(w.jsx)("span",{children:"Sign in"})]})})]}),Object(w.jsx)(R.a,{md:6,className:"my-auto d-none d-md-block p-2 ".concat(H.a.SignUpCol),children:Object(w.jsx)(Z.a,{className:"".concat(i.a.FillerImage),src:"https://res.cloudinary.com/dtqse76ok/image/upload/v1691584889/Worth_a_trip2_3_hcnbw2.png"})})]})};var Q=function(){var e,a,t,c=B(),r=Object(n.useState)({username:"",password:""}),s=Object(x.a)(r,2),o=s[0],j=s[1],p=o.username,b=o.password,m=Object(n.useState)({}),h=Object(x.a)(m,2),v=h[0],g=h[1],_=Object(N.f)(),C=function(){var e=Object(l.a)(Object(u.a)().mark((function e(a){var t,n,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,f.a.post("/dj-rest-auth/login/",o);case 4:t=e.sent,n=t.data,c(n.user),_.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),g(null===(r=e.t0.response)||void 0===r?void 0:r.data);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}(),k=function(e){j(Object(U.a)(Object(U.a)({},o),{},Object(P.a)({},e.target.name,e.target.value.trim())))};return Object(w.jsxs)(G.a,{className:H.a.Row,children:[Object(w.jsxs)(R.a,{className:"my-auto p-0 p-md-2",md:6,children:[Object(w.jsxs)(d.a,{className:"".concat(i.a.Content," p-4 "),children:[Object(w.jsx)("h1",{className:H.a.Header,children:"sign in"}),Object(w.jsxs)(T.a,{onSubmit:C,children:[Object(w.jsxs)(T.a.Group,{controlId:"username",children:[Object(w.jsx)(T.a.Label,{className:"d-none",children:"Username"}),Object(w.jsx)(T.a.Control,{type:"text",placeholder:"Username",name:"username",className:H.a.Input,value:p,onChange:k})]}),null===(e=v.username)||void 0===e?void 0:e.map((function(e,a){return Object(w.jsx)(D.a,{variant:"warning",children:e},a)})),Object(w.jsxs)(T.a.Group,{controlId:"password",children:[Object(w.jsx)(T.a.Label,{className:"d-none",children:"Password"}),Object(w.jsx)(T.a.Control,{type:"password",placeholder:"Password",name:"password",className:H.a.Input,value:b,onChange:k})]}),null===(a=v.password)||void 0===a?void 0:a.map((function(e,a){return Object(w.jsx)(D.a,{variant:"warning",children:e},a)})),Object(w.jsx)(q.a,{className:"".concat(E.a.Button," ").concat(E.a.Wide," ").concat(E.a.Bright),type:"submit",children:"Sign In"}),null===(t=v.non_field_errors)||void 0===t?void 0:t.map((function(e,a){return Object(w.jsx)(D.a,{variant:"warning",className:"mt-3",children:e},a)}))]})]}),Object(w.jsx)(d.a,{className:"mt-3 ".concat(i.a.Content),children:Object(w.jsxs)(O.b,{className:H.a.Link,to:"/signup",children:["Don't have an account? ",Object(w.jsx)("span",{children:"Sign up now!"})]})})]}),Object(w.jsx)(R.a,{md:6,className:"my-auto d-none d-md-block p-2 ".concat(H.a.SignInCol),children:Object(w.jsx)(Z.a,{className:"".concat(i.a.FillerImage),src:"https://res.cloudinary.com/dtqse76ok/image/upload/v1691584858/Worth_a_trip2_1_hkv703.png"})})]})};var K=function(){return Object(w.jsxs)("div",{className:i.a.App,children:[Object(w.jsx)(F,{}),Object(w.jsx)(d.a,{className:i.a.Main,children:Object(w.jsxs)(N.c,{children:[Object(w.jsx)(N.a,{exact:!0,path:"/",render:function(){return Object(w.jsx)("h1",{children:"Home page"})}}),Object(w.jsx)(N.a,{exact:!0,path:"/signin",render:function(){return Object(w.jsx)(Q,{})}}),Object(w.jsx)(N.a,{exact:!0,path:"/signup",render:function(){return Object(w.jsx)(J,{})}}),Object(w.jsx)(N.a,{render:function(){return Object(w.jsx)("p",{children:"Page not found :/"})}})]})})]})},V=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,102)).then((function(a){var t=a.getCLS,n=a.getFID,c=a.getFCP,r=a.getLCP,s=a.getTTFB;t(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(O.a,{children:Object(w.jsx)(I,{children:Object(w.jsx)(K,{})})})}),document.getElementById("root")),V()}},[[99,1,2]]]);
//# sourceMappingURL=main.0f50cb03.chunk.js.map